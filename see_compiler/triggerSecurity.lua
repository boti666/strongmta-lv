--key and junk locals
local MessageForUnluacFirst = 'Üdvözlöm a dumpereket! Sok Szerencsét srácok!'
local Asd1001 = 'FyYcGKAdVtamwoqhuJ'
local Asd1002 = 'tMSpRewWLujbaIZcpKDtGWtS'
local Asd1003 = 'HiAbRsuElKwpgtaBCcB'
local Asd1004 = 'bDAMgTsdmlxTuXUmq'
local Asd1005 = 'RBZnRgGSHjUiuWMUIS'
local Asd1006 = 'bWamtUHrOTIeKkeYbkFTRON'
local Asd1007 = 'jJMesEStBTGUNnm'
local Asd1008 = 'gUGReKPfVvZNkMNtwzyOe'
local Asd1009 = 'hFkOAYbMAiHhZLSPRO'
local CompileID = '22!9&zzLa2tNB672'
local Asd1010 = 'QBvDoOZOnNSEVxPJY'
local Asd1011 = 'LKoTrwTdpJUdULEpoSdoGrc'
local Asd1012 = 'VXXLHVztFOmXkgaAPVDJ'
local Asd1013 = 'hZUaciHukgqidbQYBjEpw'
local Asd1014 = 'ACCasxEcdLbYMehtysAP'
local Asd1015 = 'EQrDsAiHWKizmjSJNUNz'
local Asd1016 = 'MmbTFAlgpMKfeoyEwfBgobsyT'
local Asd1017 = 'lOQLLCXMwDmIJBu'
local Asd1018 = 'HzIfdflFlAGEYAGkoxV'
local Asd1019 = 'ZSMvwYdgAyAhXjm'
local Asd1020 = 'oyGAYneWNLgcicc'
local Asd1021 = 'VODrNHxngYveiIfx'
local Asd1022 = 'MXeacbNNhQVkSefH'
local Asd1023 = 'wvpTJwReAaMGxSsuXswYgj'
local Asd1024 = 'XfqQkvxSRThLCEDG'
local Asd1025 = 'DtLaldvjwRiDboAh'
local Asd1026 = 'qraOjSHrEkWiRaLkLMwPi'
local Asd1027 = 'mZNQbcrjHHAIwKBecfoYo'
local Asd1028 = 'ZaqKMNAUtNUhDWjU'
local Asd1029 = 'RCGzYqbctgrruxqu'
local Asd1030 = 'bhBBcUpXbTTlNZcqFCpWDsp'
local Asd1031 = 'JGfhXAVYHxAKsPHtIBFwBI'
local Asd1032 = 'gkcdOusydZDlWdgULEvvWkd'
local Asd1033 = 'TFVpgDcnOeqCzJbCJE'
local Asd1034 = 'FIVAtzWPvgTMayIqFmsSaxj'
local Asd1035 = 'WSEzCjniRiIlIFbeLUQLt'
local Asd1036 = 'bYKuRLSaoPSTpucCDULl'
local Asd1037 = "tQhxCcoovMquwLli"
local Asd1038 = 'lwtepIzslcmXosrfAPICd'
local Asd1039 = 'YPnsmYEuCQRVUhEuzQwMNLfeQ'
local Asd1040 = 'TziXvgNJzZHeukUmgPtKj'
local Asd1041 = 'AGForLsiqmHyjdFWMfWujrEe'
local Asd1042 = 'KTXvcRWIxkZiDhyQPXZSD'
local Asd1043 = 'EISYSkCWOnQLJSDFBaQBiuJHk'
local Asd1044 = 'EkqigUQZSJjvGXJwJspm'
local Asd1045 = 'QmOsvjbctzHEPPKKFKDpTZVRI'
local Asd1046 = 'AaINYzZNRvXSxrreVh'
local Asd1047 = 'GSzqvPkuLbcdBdMocloQcJNU'
local Asd1048 = 'fmmaufGmFXHuhcgi'
local Asd1049 = 'kKiWZlhobjYPefUq'
local Asd1050 = 'VKxCWczExHGEPLOAUK'
local Asd1051 = 'fSOgbMWfRRwjMgGpdJOH'
local Asd1052 = 'wnLmZAMTkmYcafeN'
local Asd1053 = 'kFTGOGMuVPeKxlg'
local Asd1054 = 'XsKxfDIrBKsHPgJZLCFzis'
local Asd1055 = 'eiYOFkUqhnaEsEmKgXdNNjwM'
local Asd1056 = 'ZstiKomSmbywVOEjPjBtwmzt'
local Asd1057 = 'nhyKTtJlMSWbfPngnK'
local Asd1058 = 'comSxNmTZLnoZuN'
local CompileKey = 'r!D2JcF@Bu39T3uK8p^j8!j'
local Asd1059 = 'ogtATmwUrmiyzSBChNuEBG'
local Asd1060 = 'AsMPrhDbvJuWDGtxYFFw'
local Asd1061 = 'yYHFLbjmIINauDsB'
local Asd1062 = 'tXPOTtumQtSwQXUO'
local Asd1063 = 'zzGJMorzpMdInjblZPesk'
local Asd1064 = 'jDjFthziLZHrIuGZUV'
local Asd1065 = 'XEZgFkgvpyGHHkRnDYMLJLt'
local Asd1066 = 'uOIuIEgFifMNqSj'
local Asd1067 = 'rPnZZemDdZpNLJOfxwzga'
local Asd1068 = 'LiLyWbrfHIVVHVZUydTOQ'
local Asd1069 = 'xFKVcjbdPNlBliCDoklkf'
local Asd1070 = 'ffNEjHsZmPEWKGgMJVzVwLeZ'
local KeyLocker = '892Em8Zhow7AeWpuCSGe'
local Asd1071 = 'skzDqtIwhmFOEEaujX'
local Asd1072 = 'QdRAYrvvcAvqTGQw'
local Asd1073 = 'ketrrYgVDhqNevDhndgEzCHZX'
local Asd1074 = 'SEOpAYtTqKSxGvEWjJsMRFQXk'
local Asd1075 = 'zRpxOibDxCBQwSBpph'
local Asd1076 = 'TeUDwGubxrlMRcbpRkruHU'
local Asd1077 = 'yrOZGehrXlmBISVJpnVcfYeuQ'
local Asd1078 = 'MlVGhtXWtEaAVYMhzu'
local Asd1079 = 'veqIatNYxiPMUaI'
local Asd1080 = 'ibyevcfVYdHgDchYgxHg'
local Asd1081 = 'ufoCUbxVJXdLwigyncxrKDVM'
local Asd1082 = 'TSiAZZVeoyZpVUYTYKpgQO'
local Asd1083 = 'TlLDOGpyAiHbiGXnUvm'
local Asd1084 = 'rhikfSAlJoFCzrfoX'
local Asd1085 = 'NyEuzNawaVSmfjunuzg'
local Asd1086 = 'LPiqrIIxWGTJexeEkfalaTxf'
local Asd1087 = 'RtwrzqcpztHhbfe'
local Asd1088 = 'YOMwSqHXqSXkqdmiwJzWaB'
local Asd1089 = 'zUTHWYLDWApssGZpW'
local Asd1090 = 'nhirtqOcPKcrWCmQjiOVMLvc'
local Asd1091 = 'OIeeFWsMeJfuxik'
local Asd1092 = 'lBfNNVXWKTIvoKAd'
local Asd1093 = 'EhYAzKEiPZGYkOjLUXz'
local Asd1094 = 'VvAOeWdPwgiangBMQgVGfBE'
local Asd1095 = 'qOblMBbHXBvbyyQUFZ'
local AesCompileCode = 'D9qezyIvfq9h4eHk'
local Asd1096 = 'SfwFVCBCIdhYtWZFIBGpyiLz'
local Asd1097 = 'kqAPpvIvSnruPTdSabmWb'
local messageForUnluac = "Szép volt! most szépen találd ki melyik a kulcs!"
local messageForUnluac2 = "AntiCheat by Wardis"
---
local CompiledStrings = {}
local DeCompiledStrings = {}
local Cache = {}
local CompiledDataValues = {}
local DeCompiledDataValues = {}
local DataTypes = {}

function CompileString(Key) --el kodolas
    if Key then
        TheKey = false

        if CompiledStrings[Key] then
            TheKey = CompiledStrings[Key]
        else
            TheKey = TeaEncodeBinary(Key, KeyLocker)
            CompiledStrings[Key] = TheKey
            DeCompiledStrings[TheKey] = Key
        end

        return TheKey
    end
end

function CompileValue(Value)
    local ReturnValue = false

    if CompiledDataValues[Value] then
        ReturnValue = CompiledDataValues[Value]
    else
        local Hash = TeaEncodeBinary(toJSON(Value), KeyLocker)

        if Hash then
            ReturnValue = Hash

            CompiledDataValues[Value] = ReturnValue
            DeCompiledDataValues[ReturnValue] = Value
        else
            ReturnValue = Value
        end
    end

    return ReturnValue
end

function DecompileValue(Value)
    local OldVal = Value
    local ReturnValue = nil
    --print("for decompile value: " .. Value)

    if Value == nil then
        ReturnValue = nil
        --print("decompiled value: " .. "nil")
    else
        if DeCompiledDataValues[Value] then
            ReturnValue = DeCompiledDataValues[Value]
            --print("decompiled value: " .. ReturnValue .. " | type: " .. type(ReturnValue))
        else
            Hash = TeaDecodeBinary(Value, KeyLocker)
            HashJson = fromJSON(Hash)

            if HashJson then 
                DeCompiledDataValues[Value] = HashJson
                CompiledDataValues[HashJson] = Value
                ReturnValue = HashJson
                
                --print("decompiled value hashing: " .. ReturnValue .. " | type: " .. type(ReturnValue))
            else
                ReturnValue = false
            end
        end
    end

    return ReturnValue
end

function DecompileString(Key) --ki kodolas
    if Key then
        TheKey = false

        if DeCompiledStrings[Key] then
            TheKey = DeCompiledStrings[Key]
        else
            TheKey = TeaDecodeBinary(Key, KeyLocker)
            DeCompiledStrings[Key] = TheKey
        end

        return TheKey 
    end
end

local EncodeIvList = {}

function TeaEncodeBinary(Data, Key) --el kodolas
    local ReturnHash = teaEncode(base64Encode(Data), Key)
    local ReturnHash, Iv = encodeString("aes128", ReturnHash, {key = AesCompileCode})
    local ReturnHash = base64Encode(ReturnHash)
    --outputConsole(ReturnHash .. " | " .. Iv)
    EncodeIvList[ReturnHash] = base64Encode(Iv)

    return ReturnHash
end

function TeaDecodeBinary(Data, Key) -- ki kodolas
    local ReturnString = false
    local Data = base64Decode(Data)
    iprint(EncodeIvList)

    if EncodeIvList[Data] then
        --print("van Encode IV")

        ReturnString = decodeString("aes128", Data, {key = AesCompileCode, iv = base64Decode(EncodeIvList[Data])})
        ReturnString = base64Decode(teaDecode(Data, Key))
    end

    return ReturnString
end

function GetDataName(DataName)
    return DecompileString(DataName)
end

function GetValueName(Value)
    return DecompileValue(Value)
end

SetElementData = setElementData
function setElementData(Element, DataName, Value)
    local DataName = CompileString(DataName)
    local Value = CompileValue(Value)

    SetElementData(Element, DataName, Value)
end

GetElementData = getElementData
function getElementData(Element, DataName)
    local DataName = CompileString(DataName)
    local DataValue = GetElementData(Element, DataName) or false

    if DataValue then
        --print(DataName .. " | " .. Data)

        DataValue = DecompileValue(DataValue)
    end
    
    return DataValue
end

RemoveElementData = removeElementData
function removeElementData(Element, DataName)
    DataName = CompileString(DataName)
    RemoveElementData(Element, DataName)
end

AddEvent = addEvent
function addEvent(EventName, AllowRemoteTrigger)
    Cache[EventName] = true

    EventName = CompileString(EventName)
    AddEvent(EventName, AllowRemoteTrigger)
end

AddEventHandler = addEventHandler
function addEventHandler(EventName, AttachedTo, HandlerFunction, GetPropagated, Priority)
    if Cache[EventName] then
        EventName = CompileString(EventName)

        AddEventHandler(EventName, AttachedTo, HandlerFunction, GetPropagated, Priority)
    else
        AddEventHandler(EventName, AttachedTo, HandlerFunction, GetPropagated, Priority)
    end
end

RemoveEventHandler = removeEventHandler
function removeEventHandler(EventName, AttachedTo, FunctionVar)
    if Cache[EventName] then
        EventName = CompileString(EventName)
        Cache[EventName] = nil
    end
    
    RemoveEventHandler(EventName, AttachedTo, FunctionVar)
end

TriggerEvent = triggerEvent
function triggerEvent(EventName, ...)
    EventName = CompileString(EventName)
    TriggerEvent(EventName, ...)
end

if type(triggerServerEvent) == "function" then
    TriggerServerEvent = triggerServerEvent

    function triggerServerEvent(EventName, ...)
        EventName = CompileString(EventName)
        TriggerServerEvent(EventName, ...)
    end
end

if type(triggerLatentServerEvent) == "function" then
    TriggerLatentServerEvent = triggerLatentServerEvent

    function triggerLatentServerEvent(EventName, ...)
        EventName = CompileString(EventName)
        TriggerLatentServerEvent(EventName, ...)
    end
end

if type(triggerClientEvent) == "function" then
    TriggerClientEvent = triggerClientEvent

    function triggerClientEvent(SourcePlayer, EventName, ...)
        EventName = CompileString(EventName)
        TriggerClientEvent(SourcePlayer, EventName, ...)
    end
end

if type(triggerLatentClientEvent) == "function" then
    TriggerLatentClientEvent = triggerLatentClientEvent

    function triggerLatentClientEvent(SourcePlayer, EventName, ...)
        EventName = CompileString(EventName)
        TriggerLatentClientEvent(SourcePlayer, EventName, ...)
    end
end